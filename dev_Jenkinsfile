pipeline {
    agent  { label 'NODEJS-JDK-11' }
    triggers { pollSCM('30 * * * 1-5') }
    stages {
        stage ('git clone') {
            steps {
                git: 'https://github.com/rajagithub18/shopizer.git',
                branch: 'master'
            }
        }
         stage ('build') {
            steps {
                sh  'mvn package'
            }
        }
        stage ('archive artifacts') {
            steps {
                archiveArtifacts artifacts: '**/target/*.jar'
            }
        }
        stage ('junit tests') {
            steps {
                junit: '**/target/surefire-reports/*.xml'
            }
        }
    }

}